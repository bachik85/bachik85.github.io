(this["webpackJsonphomework6-react"]=this["webpackJsonphomework6-react"]||[]).push([[0],{104:function(e,t,a){e.exports=a(140)},112:function(e,t,a){},113:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},138:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(61),o=a.n(c),l=a(17),i=(a(112),a(56)),s=a(4),u=a(103),d=a(1),m=a.n(d),f=(a(113),a(38)),p=a(39),v=a(57),b=(a(116),a(117),function(e){var t=e.backgroundColor,a=e.text,r=e.onClick,c=e.className;return n.a.createElement("button",{"data-testid":"btnTestTemplate",className:c,style:{backgroundColor:t},onClick:r},a)});b.protoTypes={className:m.a.string,backgroundColor:m.a.string,text:m.a.string,onClick:m.a.func},b.defaultProps={className:"btnForm",backgroundColor:"#B3382C",text:"Button",onClick:function(){}};var E=b;function g(e){var t=e.id,a=e.picUrl,r=e.name,c=e.color,o=e.price,l=e.btnCard,i=e.favorites,s=e.setFavorites,u=e.cart,d=i.includes(t),m=u.includes(t);return n.a.createElement("div",{className:"product-card"},n.a.createElement("img",{className:"product-img",src:a,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043a\u043e\u0440\u043e \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u043d\u0430 \u0441\u0430\u0439\u0442\u0435"}),n.a.createElement("div",{className:"product-header"},n.a.createElement("div",{className:"product-header-name"},r," "),n.a.createElement(f.a,{icon:p.b,style:d&&{color:"gold"},onClick:function(){d?(s(i.filter((function(e){return e!==t}))),localStorage.setItem("favorites",JSON.stringify(i.filter((function(e){return e!==t}))))):(s([].concat(Object(v.a)(i),[t])),localStorage.setItem("favorites",JSON.stringify([].concat(Object(v.a)(i),[t]))))}})),n.a.createElement("div",{className:"product-body"},n.a.createElement("p",{className:"product-body-art"},"art:",t),n.a.createElement("p",{className:"product-body-text"},n.a.createElement("span",null,"Color: ",c," "))),n.a.createElement("div",{className:"product-price"},n.a.createElement("span",null,o),m?n.a.createElement(f.a,{icon:p.a}):n.a.createElement(E,l)))}g.protoTypes={id:m.a.string,picUrl:m.a.string,name:m.a.string,color:m.a.string,price:m.a.string,btnCard:m.a.object,favorites:m.a.array,setFavorites:m.a.func,cart:m.a.array};var h=g,O=(a(118),function(e){var t=e.closeModal,a=e.header,r=e.closeButton,c=e.text,o=e.actions;return n.a.createElement("div",{className:"modalContainer",onClick:function(e){return e.target===e.currentTarget?t():null}},n.a.createElement("div",{className:"modalWindow"},n.a.createElement("div",{className:"modalHeader"},n.a.createElement("div",{className:"headerText"},a),n.a.createElement(n.a.Fragment,null,r&&n.a.createElement(f.a,{icon:p.c,onClick:t}))),n.a.createElement("div",{className:"modalText"},c),n.a.createElement("div",{className:"modalFooterText"},o)))}),y=a(9),j=function(e){return e.emerge.stateModal},x=function(e){return e.emerge.stateModalDel},S={stateModal:!1,stateModalDel:!1};var C=a(78),N=a.n(C),k=a(93),M=a(94),A=a.n(M),T=function(e){return e.productList.products},w=function(e){return e.productList.favorites},D=function(e){return e.productList.cart},F={products:[],favorites:JSON.parse(localStorage.getItem("favorites"))||[],cart:JSON.parse(localStorage.getItem("cart"))||[]};var I=Object(l.b)((function(e){return{stateModal:j(e),stateModalDel:x(e),favorites:w(e),cart:D(e)}}),(function(e){return{setStateModal:function(t){return e({type:"HANDLE_MODAL",payload:t})},setStateModalDel:function(t){return e({type:"HANDLE_MODAL_DEL",payload:t})},setCart:function(t){return e({type:"SET_CART",payload:t})},setFavorites:function(t){return e({type:"SET_FAVORITES",payload:t})}}}))((function(e){var t=e.items,a=e.favorites,c=e.setFavorites,o=e.cart,l=e.setCart,i=e.delBtnCart,s=e.stateModal,d=e.setStateModal,m=e.stateModalDel,v=e.setStateModalDel,b=Object(r.useState)(""),g=Object(u.a)(b,2),y=g[0],j=g[1],x=function(e){e.stopPropagation(),v(!0);var t=e.target.closest("li").dataset.id;j(t)},S={text:"Add to cart",onClick:function(e){e.stopPropagation(),d(!0);var t=e.target.closest("li").dataset.id;j(t)}},C={header:"Do you want to add a product to your cart?",text:"After adding the desired products, go to the shopping cart to place an order.",closeButton:!0,closeModal:function(){return d(!1)},actions:n.a.createElement(n.a.Fragment,null,n.a.createElement(E,{text:"Ok",onClick:function(){d(!1),o.push(y),l(o),localStorage.setItem("cart",JSON.stringify(o))}}),n.a.createElement(E,{text:"Cancel",onClick:function(){return d(!1)}}))},N={header:"Want to remove from cart?",closeButton:!0,closeModal:function(){return v(!1)},actions:n.a.createElement(n.a.Fragment,null,n.a.createElement(E,{text:"Ok",onClick:function(){v(!1),l(o.filter((function(e){return e!==y}))),localStorage.setItem("cart",JSON.stringify(o.filter((function(e){return e!==y}))))}}),n.a.createElement(E,{text:"Cancel",onClick:function(){return v(!1)}}))},k=t.map((function(e){return n.a.createElement("li",{key:e.id,"data-id":e.id,className:"product-list-item"},n.a.createElement(h,Object.assign({},e,{btnCard:S,favorites:a,setFavorites:c,cart:o})),i&&n.a.createElement(f.a,{icon:p.c,onClick:x}))}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("ul",{className:"product-list"},k),s&&n.a.createElement(O,C),m&&n.a.createElement(O,N))}));I.protoTypes={items:m.a.array,favorites:m.a.array,setFavorites:m.a.func,cart:m.a.array,setCart:m.a.func,delBtnCart:m.a.object,stateModal:m.a.bool,setStateModal:m.a.func,stateModalDel:m.a.bool,setStateModalDel:m.a.func};var _=I,L=a(33),B=a(74),R=a(34);function V(){var e=Object(L.a)(["\n        background-color: transparent;\n    "]);return V=function(){return e},e}function J(){var e=Object(L.a)(["\n    padding: 10px;\n    background-color: red;\n    color: white;\n    text-align: center;\n    margin-top: 15px;\n\n    ","\n"]);return J=function(){return e},e}var U=function(e){var t=e.errors,a=Object.keys(t).map((function(e){return n.a.createElement("div",{key:e},e,": ",t[e])})),r=!!a.length;return n.a.createElement(H,{visible:r},a)},H=R.b.div(J(),(function(e){return!e.visible&&Object(R.a)(V())})),q=a(35),P=(a(137),q.object().shape({firstname:q.string().min(3,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u0438\u043c\u044f!").max(15,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0438\u043c\u044f!").required('\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 "\u0418\u043c\u044f"'),lastname:q.string().min(3,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c").max(15,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c").required('\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 "\u0424\u0430\u043c\u0438\u043b\u0438\u044f"'),age:q.number().moreThan(20,"\u0412\u043e\u0437\u0440\u0430\u0441\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 21 \u0433\u043e\u0434\u0430").required('\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 "\u0412\u043e\u0437\u0440\u0430\u0441\u0442"'),deliveryAddress:q.string().min(5,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c").max(30,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c").required('\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 "\u0410\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"'),phoneNumber:q.string().phone("UA",!0,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0433\u0438\u043e\u043d\u0443 UA").required('\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 "\u0422\u0435\u043b\u0435\u0444\u043e\u043d"')})),W=function(e){return e.formValues.values},z={values:{firstname:"",lastname:"",age:"",deliveryAddress:"",phoneNumber:""}};function G(){var e=Object(L.a)(["\n    display: block;\n    width: 100%;\n    height: 30px;\n    margin-top: 10px;\n    font-size: 18px;\n"]);return G=function(){return e},e}function $(){var e=Object(L.a)(["\n    display: block;\n    width: 97.4%;\n    height: 25px;\n    margin-top: 5px;\n"]);return $=function(){return e},e}function K(){var e=Object(L.a)(["\n    text-align: center;\n    font-family: sans-serif;\n    margin: 10px;\n    color: white;\n"]);return K=function(){return e},e}function Q(){var e=Object(L.a)(["\n    width: 30%;\n    margin: 10px auto;\n    padding: 6px;\n    display: flex;\n    flex-direction: column;\n    border: 2px solid white;\n    border-radius: 4px;\n    background: chocolate;\n"]);return Q=function(){return e},e}var X=Object(l.b)((function(e){return{formValues:W(e)}}),{deleteCart:function(){return function(e){var t;e({type:"CLEAR_CART",payload:t}),console.log("\u0417\u0410\u041a\u0410\u0417\u0410\u041d\u042b\u0415 \u0422\u041e\u0412\u0410\u0420\u042b:",localStorage.getItem("cart")),localStorage.removeItem("cart")}},setFormValues:function(e){return{type:"SET_FORM_VALUES",payload:e}}})((function(e){var t=e.formValues,a=e.setFormValues,r=e.deleteCart,c=t;return n.a.createElement(n.a.Fragment,null,n.a.createElement(Z,null,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0444\u043e\u0440\u043c\u0443"),n.a.createElement(B.c,{initialValues:c,onSubmit:function(e,t){console.log("USER:",e),t.resetForm(),a({firstname:"",lastname:"",age:"",deliveryAddress:"",phoneNumber:""}),r()},validationSchema:P},(function(e){var t=e.values,r=e.errors,c=e.handleBlur;return n.a.createElement(Y,{onBlur:function(e){c(e),a(t)}},n.a.createElement(ee,{name:"firstname",type:"text",placeholder:"\u0418\u043c\u044f"}),n.a.createElement(ee,{name:"lastname",type:"text",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),n.a.createElement(ee,{name:"age",type:"text",placeholder:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"}),n.a.createElement(ee,{name:"deliveryAddress",type:"text",placeholder:"\u0410\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),n.a.createElement(ee,{name:"phoneNumber",type:"text",placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),n.a.createElement(te,{type:"submit"},"\u041e\u0422\u041f\u0420\u0410\u0412\u0418\u0422\u042c"),n.a.createElement(U,{errors:r}))})))})),Y=Object(R.b)(B.b)(Q()),Z=R.b.h2(K()),ee=Object(R.b)(B.a)($()),te=R.b.button(G()),ae=Object(l.b)((function(e){return{cart:D(e)}}),null)((function(e){var t=e.listItems,a=e.cart,r=t.filter((function(e){var t=e.id;return a.includes(t)}));return n.a.createElement(n.a.Fragment,null,n.a.createElement(_,{items:r,cart:a,delBtnCart:!0}),a.length>0&&n.a.createElement(X,null))})),re=Object(l.b)((function(e){return{favorites:w(e)}}),null)((function(e){var t=e.listItems,a=e.favorites,r=t.filter((function(e){var t=e.id;return a.includes(t)}));return n.a.createElement(_,{items:r,favorites:a})}));function ne(e){var t=e.listItems;return n.a.createElement(_,{items:t})}a(138);var ce=function(){return n.a.createElement("header",{className:"header"},n.a.createElement(i.b,{to:"/"},"Home"),n.a.createElement(i.b,{to:"/favorites"},"Favorites"),n.a.createElement(i.b,{to:"/cart"},"Cart"))},oe=Object(l.b)((function(e){return{products:T(e)}}),{getProducts:function(){return function(){var e=Object(k.a)(N.a.mark((function e(t){var a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("GUNS_DATA.json");case 3:a=e.sent,r=a.data,t({type:"SET_ITEMS",payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.products,a=e.getProducts;return Object(r.useEffect)((function(){a()}),[a]),n.a.createElement(i.a,null,n.a.createElement(ce,null),n.a.createElement(s.c,null,n.a.createElement(s.a,{path:"/",exact:!0},n.a.createElement(ne,{listItems:t})),n.a.createElement(s.a,{path:"/favorites"},n.a.createElement(re,{listItems:t})),n.a.createElement(s.a,{path:"/cart"},n.a.createElement(ae,{listItems:t}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var le,ie=a(54),se=a(37),ue=a(101),de=a(102),me=Object(se.combineReducers)((le={},Object(ie.a)(le,"productList",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"SET_ITEMS":return Object(y.a)(Object(y.a)({},e),{},{products:r});case"SET_FAVORITES":return Object(y.a)(Object(y.a)({},e),{},{favorites:Object(v.a)(r)});case"SET_CART":return Object(y.a)(Object(y.a)({},e),{},{cart:Object(v.a)(r)});case"CLEAR_CART":return Object(y.a)(Object(y.a)({},e),{},{cart:[]});default:return e}})),Object(ie.a)(le,"emerge",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"HANDLE_MODAL":return Object(y.a)(Object(y.a)({},e),{},{stateModal:r});case"HANDLE_MODAL_DEL":return Object(y.a)(Object(y.a)({},e),{},{stateModalDel:r});default:return e}})),Object(ie.a)(le,"formValues",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"SET_FORM_VALUES":return Object(y.a)(Object(y.a)({},e),{},{values:r});default:return e}})),le)),fe=Object(se.createStore)(me,Object(de.composeWithDevTools)(Object(se.applyMiddleware)(ue.a)));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(l.a,{store:fe},n.a.createElement(oe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[104,1,2]]]);
//# sourceMappingURL=main.7b54f37e.chunk.js.map